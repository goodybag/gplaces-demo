////////////
// Mixins //
////////////


#util {
  #flex {
    .display(){
      display: -webkit-flex;
      display: -moz-flex;
      display: flex;
    }

    .flex( @grow: 1, @shrink: 1 ){
      -webkit-flex: @grow @shrink;
      -moz-flex: @grow @shrink;
      flex: @grow @shrink;
    }

    .direction( @direction ){
      -webkit-flex-direction: @direction;
      -moz-flex-direction: @direction;
      flex-direction: @direction;
    }

    .grow( @grow: 1 ){
      -webkit-flex-grow: @grow;
      -moz-flex-grow: @grow;
      flex-grow: @grow;
    }

    .shrink( @shrink: 1 ){
      -webkit-flex-shrink: @shrink;
      -moz-flex-shrink: @shrink;
      flex-shrink: @shrink;
    }

    .flow( @flow: 1 ){
      -webkit-flex-flow: @flow;
      -moz-flex-flow: @flow;
      flex-flow: @flow;
    }
  }

  .background-image( @url ){
    background-image: url(~'/img@{url}');
  }
}

#sizing {
  .size( @v, @h ){
    .padding(){
      .padding-horizontal();
      .padding-vertical();
    }

    .padding-horizontal(){
      padding-left: @h;
      padding-right: @h;
    }

    .padding-vertical(){
      padding-top: @v;
      padding-bottom: @v;
    }

    .margin(){
      .margin-horizontal();
      .margin-vertical();
    }

    .margin-horizontal(){
      margin-left: @h;
      margin-right: @h;
    }

    .margin-vertical(){
      margin-top: @v;
      margin-bottom: @v;
    }
  }

  #standard {
    #sizing > .size( 1rem, 1rem );

    .font(){
      font-size: @font-scale-2;
      font-weight: 300;
    }
  }

  #large { #sizing > .size( 3rem, 3rem ) }
  #extra-large { #sizing > .size( 5rem, 5rem ) }
  #small { #sizing > .size( 0.8rem, 0.8rem ) }
}

.animation( @easing, @duration, @name ){
  -webkit-animation: @easing @duration @name;
  -moz-animation: @easing @duration @name;
  -o-animation: @easing @duration @name;
  animation: @easing @duration @name;
}

.animation-delay( @delay ){
  -webkit-animation-delay: @delay;
  -moz-animation-delay: @delay;
  -o-animation-delay: @delay;
  animation-delay: @delay;
}

.opacity( @v ){
  opacity: @v;
}

.translate( @x, @y ){
  transform: translate( @x, @y );
}

#animations {
  .fade-in() {
    from { .opacity(0) }
    to { .opacity(1) }
  }
  .slide-in-from-top( @d: -80px, @o: 0 ) {
    from { .translate( 0, @d ); .opacity(@o); }
    to { .translate( 0, 0 ); .opacity(1); }
  }
  .slide-in-from-left( @d: -500px, @o: 0 ) {
    from { .translate( @d, 0 ); .opacity(@o); }
    to { .translate( 0, 0 ); .opacity(1); }
  }
  .slide-in-from-right( @d: 500px, @o: 0 ) {
    from { .translate( @d, 0 ); .opacity(@o); }
    to { .translate( 0, 0 ); .opacity(1); }
  }
  .slide-in-from-bottom( @d: 80px, @o: 0 ) {
    from { .translate( 0, @d ); .opacity(@o); }
    to { .translate( 0, 0 ); .opacity(1); }
  }
  .slide-bg() {
    from { background-position-x: 10%; }
    to { background-position-x: 25%; }
  }

  .init(){
    @-webkit-keyframes  fade-in { #animations > .fade-in() }
    @-moz-keyframes     fade-in { #animations > .fade-in() }
    @-o-keyframes       fade-in { #animations > .fade-in() }
    @keyframes          fade-in { #animations > .fade-in() }

    @-webkit-keyframes  slide-in-from-top { #animations > .slide-in-from-top() }
    @-moz-keyframes     slide-in-from-top { #animations > .slide-in-from-top() }
    @-o-keyframes       slide-in-from-top { #animations > .slide-in-from-top() }
    @keyframes          slide-in-from-top { #animations > .slide-in-from-top() }

    @-webkit-keyframes  slide-in-from-top-no-fade { #animations > .slide-in-from-top(-80px, 1) }
    @-moz-keyframes     slide-in-from-top-no-fade { #animations > .slide-in-from-top(-80px, 1) }
    @-o-keyframes       slide-in-from-top-no-fade { #animations > .slide-in-from-top(-80px, 1) }
    @keyframes          slide-in-from-top-no-fade { #animations > .slide-in-from-top(-80px, 1) }

    @-webkit-keyframes  slide-in-from-left { #animations > .slide-in-from-left() }
    @-moz-keyframes     slide-in-from-left { #animations > .slide-in-from-left() }
    @-o-keyframes       slide-in-from-left { #animations > .slide-in-from-left() }
    @keyframes          slide-in-from-left { #animations > .slide-in-from-left() }

    @-webkit-keyframes  slide-in-from-right { #animations > .slide-in-from-right() }
    @-moz-keyframes     slide-in-from-right { #animations > .slide-in-from-right() }
    @-o-keyframes       slide-in-from-right { #animations > .slide-in-from-right() }
    @keyframes          slide-in-from-right { #animations > .slide-in-from-right() }

    @-webkit-keyframes  slide-in-from-bottom { #animations > .slide-in-from-bottom() }
    @-moz-keyframes     slide-in-from-bottom { #animations > .slide-in-from-bottom() }
    @-o-keyframes       slide-in-from-bottom { #animations > .slide-in-from-bottom() }
    @keyframes          slide-in-from-bottom { #animations > .slide-in-from-bottom() }

    @-webkit-keyframes  slide-bg { #animations > .slide-bg() }
    @-moz-keyframes     slide-bg { #animations > .slide-bg() }
    @-o-keyframes       slide-bg { #animations > .slide-bg() }
    @keyframes          slide-bg { #animations > .slide-bg() }
  }
}